var MD_CHIPS_SELECT_TEMPLATE='  <md-chips-wrap class="md-chips-select" ng-class="{ \'md-focused\': isFocused() }">     <md-chip ng-repeat="chip in mdChipItems" class="md-chip">       <span class="md-chip-content">{{chip.mainTitle}} </span>      <button type="button" class="md-remove" ng-click="removeFromChips(chip)">         <span class="remove">           <svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" style="pointer-events: none; display: block;"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path></g></svg>         </span>       </button>     </md-chip>    <div class="md-chip-input-container">       <input type="text"         ng-focus="onInputFocus($event)"         ng-model="chipInput"         ng-blur="onInputBlur()"         ng-keydown="onKeyDown($event)" />      </md-chip-input-container>     </div>     <md-select-list ng-show="selectActive" ng-style="{top: ytop, left: xleft}">       <md-select-item-wrapper ng-repeat="item in mdSelectItems" ng-class="{\'active\': !isInChips(item)}" ng-show="inputQuery(item)" ng-click="toggleItem(item)">         <md-select-item-title >{{item.mainTitle}}</md-select-item-title>       </md-select-item-wrapper>     </md-select-list>   </md-chips-wrap>',MD_CHIPS_SELECTBOX_TEMPLATE='  <md-select-list ng-show="selectActive" class="ng-hide-add" ng-style="{top: ytop, left: xleft}">     <md-select-item-wrapper ng-repeat="item in mdSelectItems" ng-class="{\'active\': !isInChips($index)}"/*ng-show="isInChips($index)" */ng-click="toggleItem($index)">       <md-select-item-title >{{item.mainTitle}}</md-select-item-title>     </md-select-item-wrapper>   </md-select-list>';angular.module("md.chips.select",[]).service("mdItems",function(){}).directive("mdChipsSelect",["$document","$compile","$log","$timeout",function(a,b,c,d){return{restrict:"E",replace:!1,controller:"mdChipsCtrl",template:function(a,b){return MD_CHIPS_SELECT_TEMPLATE},require:"?ngModel",scope:{ngModel:"=",selectItems:"=",mainTitle:"@"},link:function(b,c,e){b.mdChipItems=b.ngModel,b.mdSelectItems=b.selectItems,null==b.mainTitle&&(b.mainTitle="title");var f=b.mainTitle.split(" ");angular.forEach(b.mdSelectItems,function(a,b){a.mainTitle="",angular.forEach(f,function(b,c){null!=a[b]&&(a.mainTitle+=a[b].toString(),a.mainTitle+=" ")})}),a.bind("click",function(a){a.target.nodeName;"MD-SELECT-ITEM-WRAPPER"==a.target.nodeName||"MD-SELECT-ITEM-TITLE"==a.target.nodeName||"INPUT"==a.target.nodeName||"MD-ICON"==a.target.nodeName||"SPAN"==a.target.nodeName&&a.target.attributes.getNamedItem("class").value.indexOf("md-chip-content")!=-1||"SPAN"==a.target.nodeName&&a.target.attributes.getNamedItem("class").value.indexOf("remove")!=-1||d(function(){b.selectActive=!1},0)}),b.onInputFocus=function(a){b.ytop=a.currentTarget.offsetTop+35+"px",b.xleft=a.currentTarget.offsetLeft+"px",b.selectActive=!0,b.focus=!0},b.onInputBlur=function(){b.focus=!1},b.isFocused=function(){return b.focus},b.onKeyDown=function(a){switch(a.which){case 13:b.chipInput&&""!=b.chipInput&&b.ngModel.indexOf(b.chipInput)==-1&&this.selectItems.find(a=>{a.name.toLowerCase().includes(b.chipInput.toLowerCase())&&b.ngModel.push(a)}),b.chipInput="";break;case 8:null!=b.chipInput&&""!=b.chipInput||this.ngModel.pop()}},b.removeFromChips=function(a){var c=b.ngModel.indexOf(a);b.ngModel.splice(c,1)},b.isSelectActive=function(){return b.selectActive},b.addToChips=function(a){b.ngModel.push(a),b.chipInput="",b.chipInput.focus=!0},b.toggleItem=function(a){var c=b.ngModel.indexOf(a);c!=-1?b.removeFromChips(c):b.addToChips(a)},b.isInChips=function(a){return b.ngModel.indexOf(a)==-1},b.inputQuery=function(a){return!b.chipInput||""==b.chipInput||angular.lowercase(a.mainTitle).indexOf(angular.lowercase(b.chipInput))!=-1}}}}]).controller("mdChipsCtrl",["$scope",function(a){a.focus=!1,a.selectActive=!1,a.mdChipItems=[],a.mdSelectItems=[],a.currentMdSelectItems=[],a.ytop=0,a.xleft=0}]);